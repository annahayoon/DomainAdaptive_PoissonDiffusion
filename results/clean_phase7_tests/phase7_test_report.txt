================================================================================
CLEAN PHASE 7 TEST REPORT
================================================================================
Generated: 2025-09-20 01:27:10
Data root: Synthetic data used
Output directory: /home/jilab/Jae/results/clean_phase7_tests

SUMMARY
----------------------------------------
real_data_integration     : FAIL (1 errors)
edm_integration           : FAIL (1 errors)
performance               : PASS (0 errors)

Overall Status: FAIL
Total Errors: 2

DETAILED RESULTS
----------------------------------------

REAL_DATA_INTEGRATION TESTS:
----------------------------
  data_loading         : PASS
    Metrics: {'data_shape': [1, 1, 128, 128], 'data_range': [0.0, 1.0], 'snr_db': -40.504676818847656}
  calibration          : PASS
    Metrics: {'conversion_accuracy': 0.0}
  transforms           : FAIL
    ERROR: Reconstruction error too large: 4.236931800842285 (relative: 0.9230)
  guidance             : PASS
    Metrics: {'grad_norm_at_truth': 1432.906005859375, 'grad_norm_away': 3200.0, 'guidance_ratio': 2.233223942753191}
  edm_integration      : PASS
    Metrics: {'output_shape': [2, 1, 128, 128], 'output_range': [-2.035837411880493, 2.0946617126464844]}
  end_to_end           : PASS
    Metrics: {'mse': 0.2923228144645691, 'psnr_db': 5.341372886130903, 'gradient_norm': 12800.0}

EDM_INTEGRATION TESTS:
----------------------
  domain_encoder       : PASS
    Metrics: {'condition_shape': [1, 6], 'condition_range': [0.0, 1.0]}
  film_layer           : FAIL
    ERROR: FiLM layer not responding to conditions: 0.0
  edm_model            : PASS
    Metrics: {'model_type': 'real_edm', 'output_shape': [2, 1, 128, 128], 'output_std': 0.3805089592933655, 'output_range': [-2.2501626014709473, 1.8909175395965576]}
  conditioning_integration : PASS
    Metrics: {'domain_results': {'photography': {'output_std': 0.027147585526108742, 'output_mean': -0.06547814607620239}, 'microscopy': {'output_std': 0.02512909658253193, 'output_mean': -0.09914377331733704}, 'astronomy': {'output_std': 0.027597254142165184, 'output_mean': -0.016770295798778534}}, 'std_variation': 0.002468157559633255}

PERFORMANCE TESTS:
------------------
  Performance: PASS
    gpu_available: True
    gpu_name: NVIDIA A40
    gpu_memory_gb: 44.451416015625
    device: cuda
    tensor_op_time_ms: 1.4369487762451172
    memory_usage_mb: 1.44921875
    cpu_count: 72
    total_memory_gb: 125.48823547363281

RECOMMENDATIONS
----------------------------------------
⚠ Some tests failed. Review the errors above.

Common solutions:
1. Check data paths and file formats
2. Verify EDM installation: bash external/setup_edm.sh
3. Ensure sufficient GPU memory for testing
4. Check dependency versions in requirements.txt

FILES GENERATED
----------------------------------------
• Real data tests: /home/jilab/Jae/results/clean_phase7_tests/real_data_test_results.json
• EDM integration: /home/jilab/Jae/results/clean_phase7_tests/edm_integration_test_results.json
• Performance: /home/jilab/Jae/results/clean_phase7_tests/performance_test_results.json
• This report: /home/jilab/Jae/results/clean_phase7_tests/phase7_test_report.txt

================================================================================
